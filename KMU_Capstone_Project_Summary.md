# 🌱 KMU_Capstone 프로젝트 상세 요약

## 📘 프로젝트 개요
KMU_Capstone 프로젝트는 사용자들이 일상 속에서 손쉽게 환경 보호 활동을 실천하도록 유도하는 **퀘스트 기반 플랫폼**입니다. 매일 각 사용자에게 간단한 환경보호 퀘스트를 자동으로 배정하며, 사용자는 이를 수행하고 인증함으로써 활동을 기록하게 됩니다. 

이 시스템은 단순히 미션 수행에 그치지 않고, 사용자 간의 소통을 위한 커뮤니티 기능과 환경 보호 캠페인 모집 기능까지 포함하는 것을 목표로 하고 있으며, 현재는 핵심 퀘스트 기능에 집중된 MVP(최소 기능 제품) 단계입니다.

## ⚙️ 기술 스택
- **백엔드 프레임워크**: Django 4.x + Django REST Framework (DRF)
- **데이터베이스**: PostgreSQL
- **인증 방식**: JWT 기반 인증 (djangorestframework-simplejwt)
- **프론트엔드**: 외부 팀과의 연동 예정, RESTful API 연동을 전제로 개발
- **테스트 도구**: Postman을 통한 수동 테스트, Redoc을 통한 자동 문서화 예정
- **기타**: 커맨드 기반 스케줄러, 관리자 페이지 커스터마이징

## 🏗️ 구현된 기능 현황

### ✅ 사용자 기능
- 사용자 회원가입 및 로그인 구현 (이름, 시/구 추가 입력)
- JWT 토큰 기반 인증/인가 처리
- 사용자 모델 커스터마이징 (프로필 정보 확장 가능 구조)

### ✅ 퀘스트 시스템
- 퀘스트 마스터 테이블 + 시드 커맨드 구성 (총 27개의 퀘스트 등록)
- 유저-퀘스트 배정 관계를 저장하는 UserQuestAssignment 모델 구축
- 매일 자정 전체 사용자에게 5개의 퀘스트 자동 배정 (전날 완료 퀘스트 제외)
- 인증 시 `useCamera` 여부에 따라 사진 필수 여부 분기 처리
- 인증 결과(UserQuestResult)를 통해 완료 기록 관리
- 퀘스트 인증 통계 제공 API 개발: 오늘의 진행률, 주간/월간 달성 수, 연속 달성일수, 전체 완료일수 등 반환

### ✅ 팁 기능
- 환경 보호 실천 팁을 저장하는 Tip 모델 구축
- 팁 시드 커맨드를 통해 10개의 실전 팁 등록
- 누구나 접근 가능한 랜덤 팁 조회 API (`GET /tips/random/`) 제공

### ✅ 관리자 페이지
- 사용자, 퀘스트, 배정 및 인증 기록, 팁 등을 Django Admin에서 관리 가능
- `list_display`, 검색, 필터링 등 커스터마이징 적용

### ✅ API 명세 및 테스트
- Postman으로 기능별 API 수동 테스트 완료
- Notion 기반 명세서 + 요청/응답 예시 포함하여 프론트에 공유
- Redoc 기반 자동 문서화 준비 중 (drf-yasg 적용 예정)

## 📋 구현된 API 요약

| 기능 | URL | 인증 필요 여부 |
|------|-----|----------------|
| 오늘의 퀘스트 조회 | `GET /api/my-quests/today/` | ✅ |
| 퀘스트 인증 | `POST /api/my-quests/<id>/complete/` | ✅ |
| 오늘의 퀘스트 인증 요약 | `GET /api/my-quests/today/summary/` | ✅ |
| 랜덤 팁 조회 | `GET /api/tips/random/` | ❌ |
| 챌린지 통계 요약 | `GET /api/users/me/challenge-stats/` | ✅ |

## 🔜 향후 예정 기능
- Redoc/Swagger 기반 자동 API 문서화 (개발자 및 프론트 공유용)
- 퀘스트 성공률 기반 포인트/레벨 시스템 설계 및 적용
- 퀘스트 실패 처리 로직 및 재도전 시스템
- 커뮤니티 기반 캠페인 게시글 및 참여 기능 개발
- 인증 통계 시각화 API 고도화 (주간 그래프, 월간 추이 등)

## ✅ 설정 및 개발 참고 사항
- 한국 시간대 적용 필수: `TIME_ZONE = 'Asia/Seoul'`
- `photo_url` 필드는 `useCamera=False`인 퀘스트에서 null 허용: `blank=True`, `null=True`
- 마이그레이션 파일은 Git에 반드시 포함해야 함 (모델 공유 및 CI/CD 반영 목적)
- `collectstatic`은 배포 시 static 파일 수집용으로 사용

---
이 문서는 KMU_Capstone GPT 프로젝트의 연속성을 위해 다른 대화에서도 참조될 수 있도록 설계되었습니다. 향후 기능 추가 및 구조 변경 시, 이 문서를 갱신하여 일관성을 유지합니다.

